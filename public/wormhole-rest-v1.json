{
  "openapi": "3.0.0",
  "info": {
    "description": "wormholerest.bitcoin.com is [Wormhole](http://wormhole.cash/) over REST/HTTP",
    "version": "0.0.1",
    "title": "WormholeREST",
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "tags": [
    {
      "name": "configuration",
      "description": "configuration",
      "externalDocs": {
        "description": "Find out more",
        "url": "https://developer.bitcoin.com/wormhole/docs/configuration.html"
      }
    },
    {
      "name": "dataRetrieval",
      "description": "dataRetrieval",
      "externalDocs": {
        "description": "Find out more",
        "url": "https://developer.bitcoin.com/wormhole/docs/dataRetrieval.html"
      }
    },
    {
      "name": "payloadCreation",
      "description": "payloadCreation",
      "externalDocs": {
        "description": "Find out more",
        "url": "https://developer.bitcoin.com/wormhole/docs/payloadCreation.html"
      }
    },
    {
      "name": "rawTransactions",
      "description": "rawTransactions",
      "externalDocs": {
        "description": "Find out more",
        "url": "https://developer.bitcoin.com/wormhole/docs/rawTransactions.html"
      }
    },
    {
      "name": "transactionCreation",
      "description": "transactionCreation",
      "externalDocs": {
        "description": "Find out more",
        "url": "https://developer.bitcoin.com/wormhole/docs/transactionCreation.html"
      }
    }
  ],
  "paths": {
    "/configuration": {
      "get": {
        "tags": [
          "configuration"
        ],
        "summary": "Configuration health check",
        "description": "Returns 'configuration'",
        "operationId": "configuration",
        "responses": {
          "200": {
            "description": "successful response"
          },
          "400": {
            "description": "Server down."
          }
        }
      }
    },
    "/configuration/whcSetAutocommit/{flag}": {
      "post": {
        "tags": [
          "configuration"
        ],
        "summary": "Address details",
        "description": "Sets the global flag that determines whether transactions are automatically committed and broadcast.",
        "operationId": "configurationWhcSetAutocommit",
        "parameters": [
          {
            "name": "flag",
            "in": "path",
            "description": "(boolean, required) the flag",
            "required": true,
            "example": "true",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddressDetails"
                }
              }
            }
          },
          "400": {
            "description": "Received an invalid Bitcoin Cash address as input.",
            "content": {
              "application/json": {
                "schema": {
                  "status": 500,
                  "message": "Received an invalid Bitcoin Cash address as input."
                }
              }
            }
          }
        }
      }
    },
    "/dataRetrieval/whc_getallbalancesforaddress/{address}": {
      "get": {
        "tags": [
          "dataRetrieval"
        ],
        "summary": "Address utxos",
        "description": "Returns the list of utxo for an address",
        "operationId": "utxo",
        "parameters": [
          {
            "name": "address",
            "in": "path",
            "description": "the address or an array of addresses in cashAddr or legacy",
            "required": true,
            "example": "bitcoincash:qzs02v05l7qs5s24srqju498qu55dwuj0cx5ehjm2c",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddressUtxo"
                }
              }
            }
          },
          "400": {
            "description": "Received an invalid Bitcoin Cash address as input.",
            "content": {
              "application/json": {
                "schema": {
                  "status": 500,
                  "message": "Received an invalid Bitcoin Cash address as input."
                }
              }
            }
          }
        }
      }
    },
    "/payloadCreation/whc_createpayload_burnbch": {
      "get": {
        "tags": [
          "payloadCreation"
        ],
        "summary": "Unconfirmed transactions for an address",
        "description": "Returns the list of unconfirmed transactions for an address",
        "operationId": "unconfirmed",
        "parameters": [
          {
            "name": "address",
            "in": "path",
            "description": "the address or an array of addresses in cashAddr or legacy",
            "required": true,
            "example": "bitcoincash:qzs02v05l7qs5s24srqju498qu55dwuj0cx5ehjm2c",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddressUnconfirmed"
                }
              }
            }
          },
          "400": {
            "description": "Received an invalid Bitcoin Cash address as input.",
            "content": {
              "application/json": {
                "schema": {
                  "status": 500,
                  "message": "Received an invalid Bitcoin Cash address as input."
                }
              }
            }
          }
        }
      }
    },
    "/rawTransactions/whc_createrawtx_change/{rawtx}": {
      "get": {
        "tags": [
          "rawTransactions"
        ],
        "summary": "Block details",
        "description": "Details about a block",
        "operationId": "blockDetails",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Block hash/height",
            "required": true,
            "example": "500000",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BlockDetails"
                }
              }
            }
          },
          "400": {
            "description": "Received an invalid block height.",
            "content": {
              "application/json": {
                "schema": {
                  "status": 500,
                  "message": "Received an invalid block height."
                }
              }
            }
          }
        }
      }
    },
    "/transactionCreation/whc_burnbchgetwhc/{amount}": {
      "get": {
        "tags": [
          "transactionCreation"
        ],
        "summary": "Hash of the best block in the longest blockchain.",
        "description": "Returns the hash of the best (tip) block in the longest blockchain.",
        "operationId": "getBestBlockHash",
        "responses": {
          "200": {
            "description": "successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BestBlockHash"
                }
              }
            }
          }
        }
      }
    }
  },
  "servers": [
    {
      "url": "/v1"
    }
  ],
  "components": {
    "schemas": {
      "AddressDetails": {
        "type": "object",
        "properties": {
          "balance": {
            "type": "number",
            "format": "float"
          },
          "balanceSat": {
            "type": "number",
            "format": "float"
          },
          "totalReceived": {
            "type": "number",
            "format": "float"
          },
          "totalReceivedSat": {
            "type": "number",
            "format": "float"
          },
          "totalSent": {
            "type": "number",
            "format": "float"
          },
          "totalSentSat": {
            "type": "number",
            "format": "float"
          },
          "unconfirmedBalance": {
            "type": "number",
            "format": "float"
          },
          "unconfirmedBalanceSat": {
            "type": "number",
            "format": "float"
          },
          "unconfirmedTxApperances": {
            "type": "number",
            "format": "float"
          },
          "txApperances": {
            "type": "number"
          },
          "transactions": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "legacyAddress": {
            "type": "string"
          },
          "cashAddress": {
            "type": "string"
          }
        }
      },
      "AddressUtxo": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/Utxo"
        }
      },
      "Utxo": {
        "type": "object",
        "properties": {
          "txid": {
            "type": "string"
          },
          "vout": {
            "type": "number"
          },
          "scriptPubKey": {
            "type": "string"
          },
          "amount": {
            "type": "number",
            "format": "float"
          },
          "satoshis": {
            "type": "number"
          },
          "height": {
            "type": "number"
          },
          "confirmations": {
            "type": "number"
          },
          "legacyAddress": {
            "type": "string"
          },
          "cashAddress": {
            "type": "string"
          }
        }
      },
      "AddressUnconfirmed": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/Unconfirmed"
        }
      },
      "Unconfirmed": {
        "type": "object",
        "properties": {
          "txid": {
            "type": "string"
          },
          "vout": {
            "type": "number"
          },
          "scriptPubKey": {
            "type": "string"
          },
          "amount": {
            "type": "number",
            "format": "float"
          },
          "satoshis": {
            "type": "number"
          },
          "height": {
            "type": "number"
          },
          "confirmations": {
            "type": "number"
          },
          "legacyAddress": {
            "type": "string"
          },
          "cashAddress": {
            "type": "string"
          }
        }
      },
      "BlockDetails": {
        "type": "object",
        "properties": {
          "hash": {
            "type": "string"
          },
          "size": {
            "type": "number"
          },
          "height": {
            "type": "number"
          },
          "version": {
            "type": "number"
          },
          "merkleroot": {
            "type": "string"
          },
          "tx": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "time": {
            "type": "number"
          },
          "nonce": {
            "type": "number"
          },
          "bits": {
            "type": "string"
          },
          "difficulty": {
            "type": "number",
            "format": "float"
          },
          "chainwork": {
            "type": "string"
          },
          "confirmations": {
            "type": "number"
          },
          "previousblockhash": {
            "type": "string"
          },
          "nextblockhash": {
            "type": "string"
          },
          "reward": {
            "type": "number",
            "format": "float"
          },
          "isMainChain": {
            "type": "boolean"
          },
          "poolInfo": {
            "type": "object",
            "properties": {
              "poolName": "string",
              "url": "string"
            }
          }
        }
      },
      "BestBlockHash": {
        "type": "string"
      },
      "Block": {
        "type": "object",
        "properties": {
          "hash": {
            "type": "string"
          },
          "confirmations": {
            "type": "number"
          },
          "size": {
            "type": "number"
          },
          "height": {
            "type": "number"
          },
          "version": {
            "type": "number"
          },
          "versionHex": {
            "type": "string"
          },
          "merkleroot": {
            "type": "string"
          },
          "tx": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "time": {
            "type": "number"
          },
          "mediantime": {
            "type": "number"
          },
          "nonce": {
            "type": "number"
          },
          "bits": {
            "type": "string"
          },
          "difficulty": {
            "type": "number",
            "format": "float"
          },
          "chainwork": {
            "type": "string"
          },
          "previousblockhash": {
            "type": "string"
          },
          "nextblockhash": {
            "type": "string"
          }
        }
      },
      "BlockchainInfo": {
        "type": "object",
        "properties": {
          "chain": {
            "type": "string"
          },
          "blocks": {
            "type": "number"
          },
          "headers": {
            "type": "number"
          },
          "bestblockhash": {
            "type": "string"
          },
          "difficulty": {
            "type": "number",
            "format": "float"
          },
          "mediantime": {
            "type": "number"
          },
          "verificationprogress": {
            "type": "number",
            "format": "float"
          },
          "chainwork": {
            "type": "string"
          },
          "pruned": {
            "type": "boolean"
          },
          "softforks": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": "string",
                "version": "number",
                "reject": {
                  "type": "object",
                  "properties": {
                    "status": "boolean"
                  }
                }
              }
            }
          },
          "bip9_softforks": {
            "type": "object",
            "properties": {
              "status": "string",
              "startTime": "number",
              "timeout": "number",
              "since": "number"
            }
          }
        }
      },
      "BlockCount": {
        "type": "number"
      },
      "BlockHash": {
        "type": "string"
      },
      "BlockHeader": {
        "type": "object",
        "properties": {
          "hash": {
            "type": "string"
          },
          "confirmations": {
            "type": "number"
          },
          "height": {
            "type": "number"
          },
          "version": {
            "type": "number"
          },
          "versionHex": {
            "type": "string"
          },
          "merkleroot": {
            "type": "string"
          },
          "time": {
            "type": "number"
          },
          "mediantime": {
            "type": "number"
          },
          "nonce": {
            "type": "number"
          },
          "bits": {
            "type": "string"
          },
          "difficulty": {
            "type": "number",
            "format": "float"
          },
          "chainwork": {
            "type": "string"
          },
          "previousblockhash": {
            "type": "string"
          },
          "nextblockhash": {
            "type": "string"
          }
        }
      },
      "Difficulty": {
        "type": "number",
        "format": "float"
      },
      "MempoolInfo": {
        "type": "object",
        "properties": {
          "size": {
            "type": "number"
          },
          "bytes": {
            "type": "number"
          },
          "usage": {
            "type": "number"
          },
          "maxmempool": {
            "type": "number"
          },
          "mempoolminfee": {
            "type": "number"
          }
        }
      },
      "RawMempool": {
        "type": "array",
        "items": {
          "type": "string"
        }
      },
      "DecodeRawTransaction": {
        "type": "object",
        "properties": {
          "txid": {
            "type": "string"
          },
          "hash": {
            "type": "string"
          },
          "size": {
            "type": "number"
          },
          "version": {
            "type": "number"
          },
          "vin": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "txid": {
                  "type": "string"
                },
                "vout": {
                  "type": "number"
                },
                "scriptSig": {
                  "type": "object",
                  "properties": {
                    "asm": {
                      "type": "string"
                    },
                    "hex": {
                      "type": "string"
                    }
                  }
                },
                "sequence": {
                  "type": "string"
                }
              }
            }
          },
          "vout": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "value": {
                  "type": "number"
                },
                "n": {
                  "type": "number"
                },
                "scriptPubkey": {
                  "type": "object",
                  "properties": {
                    "asm": {
                      "type": "string"
                    },
                    "hex": {
                      "type": "string"
                    },
                    "reqSigs": {
                      "type": "number"
                    },
                    "type": {
                      "type": "string"
                    },
                    "addresses": {
                      "type": "array",
                      "items": {
                        "address": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "DecodeScript": {
        "type": "object",
        "properties": {
          "asm": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "p2sh": {
            "type": "string"
          }
        }
      },
      "GetRawTransaction": {
        "type": "object",
        "properties": {
          "hex": {
            "type": "string"
          },
          "txid": {
            "type": "string"
          },
          "hash": {
            "type": "string"
          },
          "size": {
            "type": "number"
          },
          "version": {
            "type": "number"
          },
          "vin": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "txid": {
                  "type": "string"
                },
                "vout": {
                  "type": "number"
                },
                "scriptSig": {
                  "type": "object",
                  "properties": {
                    "asm": {
                      "type": "string"
                    },
                    "hex": {
                      "type": "string"
                    },
                    "sequence": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "vout": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "value": {
                  "type": "number"
                },
                "n": {
                  "type": "number"
                },
                "scriptPubkey": {
                  "type": "object",
                  "properties": {
                    "asm": {
                      "type": "string"
                    },
                    "hex": {
                      "type": "string"
                    },
                    "reqSigs": {
                      "type": "number"
                    },
                    "type": {
                      "type": "string"
                    },
                    "addresses": {
                      "type": "array",
                      "items": {
                        "address": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "blockhash": {
            "type": "string"
          },
          "confirmations": {
            "type": "number"
          },
          "time": {
            "type": "number"
          },
          "blocktime": {
            "type": "number"
          }
        }
      },
      "TransactionDetails": {
        "type": "object",
        "properties": {
          "txid": {
            "type": "string"
          },
          "version": {
            "type": "number"
          },
          "locktime": {
            "type": "number"
          },
          "vin": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "txid": {
                  "type": "string"
                },
                "vout": {
                  "type": "number"
                },
                "sequence": {
                  "type": "number"
                },
                "n": {
                  "type": "number"
                },
                "scriptSig": {
                  "type": "object",
                  "properties": {
                    "hex": {
                      "type": "string"
                    },
                    "asm": {
                      "type": "string"
                    },
                    "value": {
                      "type": "number"
                    },
                    "legacyAddress": {
                      "type": "string"
                    },
                    "cashAddress": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "vout": {
            "type": "array",
            "items": {
              "objects": {
                "type": "object",
                "properties": {
                  "value": {
                    "type": "number"
                  },
                  "n": {
                    "type": "number"
                  },
                  "scriptPubkey": {
                    "type": "object",
                    "properties": {
                      "hex": {
                        "type": "string"
                      },
                      "asm": {
                        "type": "string"
                      },
                      "addresses": {
                        "type": "array",
                        "items": {
                          "address": {
                            "type": "string"
                          }
                        }
                      },
                      "type": {
                        "type": "string"
                      }
                    }
                  },
                  "spentTxId": {
                    "type": "string"
                  },
                  "spentIndex": {
                    "type": "number"
                  },
                  "spentHeight": {
                    "type": "number"
                  }
                }
              },
              "type": "object",
              "properties": {
                "value": {
                  "type": "number"
                },
                "n": {
                  "type": "number"
                },
                "scriptPubkey": {
                  "type": "object",
                  "properties": {
                    "hex": {
                      "type": "string"
                    },
                    "asm": {
                      "type": "string"
                    }
                  }
                },
                "spentTxId": {
                  "type": "string"
                },
                "spentIndex": {
                  "type": "number"
                },
                "spentHeight": {
                  "type": "number"
                }
              }
            }
          },
          "blockhash": {
            "type": "string"
          },
          "blockheight": {
            "type": "number"
          },
          "confirmations": {
            "type": "number"
          },
          "time": {
            "type": "number"
          },
          "valueOut": {
            "type": "number"
          },
          "size": {
            "type": "number"
          },
          "valueIn": {
            "type": "number"
          },
          "fees": {
            "type": "number"
          }
        }
      },
      "ValidateAddress": {
        "type": "object",
        "properties": {
          "isvalid": {
            "type": "boolean"
          },
          "address": {
            "type": "string"
          },
          "scriptPubKey": {
            "type": "string"
          },
          "ismine": {
            "type": "boolean"
          },
          "iswatchonly": {
            "type": "boolean"
          },
          "isscript": {
            "type": "boolean"
          }
        }
      },
      "Info": {
        "type": "object",
        "properties": {
          "version": {
            "type": "number"
          },
          "protocolversion": {
            "type": "number"
          },
          "blocks": {
            "type": "number"
          },
          "timeoffset": {
            "type": "number"
          },
          "connections": {
            "type": "number"
          },
          "proxy": {
            "type": "string"
          },
          "difficulty": {
            "type": "number",
            "format": "float"
          },
          "paytxfee": {
            "type": "number"
          },
          "relayfee": {
            "type": "number",
            "format": "float"
          },
          "errors": {
            "type": "string"
          }
        }
      },
      "MemoryInfo": {
        "type": "object",
        "properties": {
          "locked": {
            "type": "object",
            "properties": {
              "used": {
                "type": "number"
              },
              "free": {
                "type": "number"
              },
              "total": {
                "type": "number"
              },
              "locked": {
                "type": "number"
              },
              "chunks_used": {
                "type": "number"
              },
              "chunks_free": {
                "type": "number"
              }
            }
          }
        }
      },
      "MiningInfo": {
        "type": "object",
        "properties": {
          "blocks": {
            "type": "number"
          },
          "currentblocksize": {
            "type": "number"
          },
          "currentblocktx": {
            "type": "number"
          },
          "difficulty": {
            "type": "number",
            "format": "float"
          },
          "blockprioritypercentage": {
            "type": "number"
          },
          "errors": {
            "type": "string"
          },
          "networkhashps": {
            "type": "number"
          },
          "pooledtx": {
            "type": "number"
          },
          "chain": {
            "type": "string"
          }
        }
      },
      "NetworkHashps": {
        "type": "number"
      },
      "ConnectionCount": {
        "type": "number"
      },
      "MempoolAncestors": {
        "type": "array",
        "items": {
          "type": "string"
        }
      },
      "MempoolDescendants": {
        "type": "array",
        "items": {
          "type": "string"
        }
      }
    }
  }
}
